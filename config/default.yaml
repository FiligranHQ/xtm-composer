manager:
  id: default-manager-id # Manager id is mandatory
  name: Filigran connector manager
  execute_schedule: 10 # Check every 10 secs
  ping_alive_schedule: 60 # Ping every 60 seconds
  
  # RSA Private Key Configuration (one of the following is required):
  # Option 1: Direct key content (use environment variable MANAGER__CREDENTIALS_KEY in production)
  # credentials_key: |-
  #   -----BEGIN PRIVATE KEY-----
  #   YOUR 4096 BIT RSA KEY HERE
  #   -----END PRIVATE KEY-----
  
  # Option 2: Path to key file (recommended, use environment variable MANAGER__CREDENTIALS_KEY_FILEPATH)
  # credentials_key_filepath: /path/to/private_key.pem
  
  # Note: If both are set, filepath takes priority with a warning
  
  logger:
    level: info
    format: json
    directory: true
    console: true

opencti:
  enable: true
  url: http://host.docker.internal:4000
  token: ChangeMe
  unsecured_certificate: false
  with_proxy: false
  logs_schedule: 10 # report logs every 10 seconds maximum
  request_timeout: 30 # HTTP request timeout in seconds (default: 30)
  connect_timeout: 10 # TCP connection timeout in seconds (default: 10)
  daemon:
    # registry:
    #   server: "docker.io"
    #   username: "your-username"
    #   password: "your-password"
    #   email: "your-email@example.com"
    selector: kubernetes
    kubernetes:
      # Image pull policy for K8s containers created by xtmcomposer
      # Valid values: Always, IfNotPresent, Never  
      # Default: IfNotPresent
      # Environment variable: OPENCTI__DAEMON__KUBERNETES__IMAGE_PULL_POLICY
      image_pull_policy: IfNotPresent
      base_deployment:
    portainer:
      api: https://host.docker.internal:9443
      api_key: ChangeMe
      env_id: 3
      env_type: docker
      api_version: v1.44
    # swarm:
    #   network: my-overlay-network # Overlay network to attach services to
    #   extra_hosts: # Extra host entries (host:ip)
    #     - "host.docker.internal:host-gateway"
    #   dns: # DNS servers
    #     - "8.8.8.8"
    #   dns_search: # DNS search domains
    #     - "example.com"
    #   cap_add: # Add Linux capabilities
    #     - "NET_ADMIN"
    #   cap_drop: # Drop Linux capabilities
    #     - "MKNOD"
    #   sysctls: # Kernel parameters
    #     net.core.somaxconn: "1024"
    #   ulimits: # Resource limits
    #     - name: nofile
    #       soft: 65536
    #       hard: 65536
    #   hostname: my-connector           # Container hostname
    #   user: "1000:1000"                # User to run as (uid:gid)
    #   read_only: false                 # Read-only root filesystem
    #   init: true                       # Run an init process
    #   stop_grace_period: 10000000000   # Stop grace period in nanoseconds (10s)
    #   resources:                       # CPU/Memory limits and reservations
    #     cpu_limit: 1000000000          # CPU limit in nano CPUs (1 CPU = 1e9)
    #     memory_limit: 536870912        # Memory limit in bytes (512MB)
    #     cpu_reservation: 500000000     # CPU reservation in nano CPUs (0.5 CPU)
    #     memory_reservation: 268435456  # Memory reservation in bytes (256MB)
    #   placement_constraints:           # Node placement constraints
    #     - "node.role==worker"
    #     - "node.labels.type==connector"
    #   placement_preferences:           # Placement spread preferences
    #     - "node.labels.zone"
    #   restart_condition: any # Restart policy: none, on-failure, any
    #   restart_delay: 5000000000 # Delay between restarts in nanoseconds (5s)
    #   restart_max_attempts: 3 # Maximum restart attempts (0 = unlimited)

openaev:
  enable: false
  url: http://host.docker.internal:4000
  token: ChangeMe
  unsecured_certificate: false
  with_proxy: false
  logs_schedule: 10 # report logs every 10 seconds maximum
  request_timeout: 30 # HTTP request timeout in seconds (default: 30)
  connect_timeout: 10 # TCP connection timeout in seconds (default: 10)
  daemon:
    # registry:
    #   server: "docker.io"
    #   username: "your-username"
    #   password: "your-password"
    #   email: "your-email@example.com"
    selector: kubernetes
    kubernetes:
      # Image pull policy for K8s containers created by xtmcomposer
      # Valid values: Always, IfNotPresent, Never  
      # Default: IfNotPresent
      # Environment variable: OPENBAS__DAEMON__KUBERNETES__IMAGE_PULL_POLICY
      image_pull_policy: IfNotPresent
      base_deployment:
    portainer:
      api: https://localhost:9443
      api_key: ChangeMe
      api_version: v1.44
      env_id: 3
      env_type: docker
      stack: opencti-dev
      network_mode: opencti-dev_default
    # swarm:
    #   network: my-overlay-network # Overlay network to attach services to
    #   # See opencti.daemon.swarm above for all available options